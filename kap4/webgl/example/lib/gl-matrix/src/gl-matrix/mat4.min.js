var mat4={create:function(){var a=new GLMAT_ARRAY_TYPE(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},clone:function(a){var b=new GLMAT_ARRAY_TYPE(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=
b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},transpose:function(a,b){if(a===b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=c;a[6]=b[9];a[7]=b[13];a[8]=d;a[9]=f;a[11]=b[14];a[12]=e;a[13]=g;a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],
a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},invert:function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],l=b[6],k=b[7],n=b[8],m=b[9],p=b[10],q=b[11],u=b[12],r=b[13],s=b[14],t=b[15],x=c*h-d*g,y=c*l-e*g,v=c*k-f*g,w=d*l-e*h,A=d*k-f*h,B=e*k-f*l,C=n*r-m*u,D=n*s-p*u,E=n*t-q*u,F=m*s-p*r,G=m*t-q*r,H=p*t-q*s,z=x*H-y*G+v*F+w*E-A*D+B*C;if(!z)return null;z=1/z;a[0]=(h*H-l*G+k*F)*z;a[1]=(e*G-d*H-f*F)*z;a[2]=
(r*B-s*A+t*w)*z;a[3]=(p*A-m*B-q*w)*z;a[4]=(l*E-g*H-k*D)*z;a[5]=(c*H-e*E+f*D)*z;a[6]=(s*v-u*B-t*y)*z;a[7]=(n*B-p*v+q*y)*z;a[8]=(g*G-h*E+k*C)*z;a[9]=(d*E-c*G-f*C)*z;a[10]=(u*A-r*v+t*x)*z;a[11]=(m*v-n*A-q*x)*z;a[12]=(h*D-g*F-l*C)*z;a[13]=(c*F-d*D+e*C)*z;a[14]=(r*y-u*w-s*x)*z;a[15]=(n*w-m*y+p*x)*z;return a},adjoint:function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],l=b[6],k=b[7],n=b[8],m=b[9],p=b[10],q=b[11],u=b[12],r=b[13],s=b[14],t=b[15];a[0]=h*(p*t-q*s)-m*(l*t-k*s)+r*(l*q-k*p);a[1]=-(d*(p*
t-q*s)-m*(e*t-f*s)+r*(e*q-f*p));a[2]=d*(l*t-k*s)-h*(e*t-f*s)+r*(e*k-f*l);a[3]=-(d*(l*q-k*p)-h*(e*q-f*p)+m*(e*k-f*l));a[4]=-(g*(p*t-q*s)-n*(l*t-k*s)+u*(l*q-k*p));a[5]=c*(p*t-q*s)-n*(e*t-f*s)+u*(e*q-f*p);a[6]=-(c*(l*t-k*s)-g*(e*t-f*s)+u*(e*k-f*l));a[7]=c*(l*q-k*p)-g*(e*q-f*p)+n*(e*k-f*l);a[8]=g*(m*t-q*r)-n*(h*t-k*r)+u*(h*q-k*m);a[9]=-(c*(m*t-q*r)-n*(d*t-f*r)+u*(d*q-f*m));a[10]=c*(h*t-k*r)-g*(d*t-f*r)+u*(d*k-f*h);a[11]=-(c*(h*q-k*m)-g*(d*q-f*m)+n*(d*k-f*h));a[12]=-(g*(m*s-p*r)-n*(h*s-l*r)+u*(h*p-l*m));
a[13]=c*(m*s-p*r)-n*(d*s-e*r)+u*(d*p-e*m);a[14]=-(c*(h*s-l*r)-g*(d*s-e*r)+u*(d*l-e*h));a[15]=c*(h*p-l*m)-g*(d*p-e*m)+n*(d*l-e*h);return a},determinant:function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],l=a[7],k=a[8],n=a[9],m=a[10],p=a[11],q=a[12],u=a[13],r=a[14];a=a[15];return(b*g-c*f)*(m*a-p*r)-(b*h-d*f)*(n*a-p*u)+(b*l-e*f)*(n*r-m*u)+(c*h-d*g)*(k*a-p*q)-(c*l-e*g)*(k*r-m*q)+(d*l-e*h)*(k*u-n*q)},multiply:function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],l=b[5],k=b[6],n=b[7],m=b[8],
p=b[9],q=b[10],u=b[11],r=b[12],s=b[13],t=b[14];b=b[15];var x=c[0],y=c[1],v=c[2],w=c[3];a[0]=x*d+y*h+v*m+w*r;a[1]=x*e+y*l+v*p+w*s;a[2]=x*f+y*k+v*q+w*t;a[3]=x*g+y*n+v*u+w*b;x=c[4];y=c[5];v=c[6];w=c[7];a[4]=x*d+y*h+v*m+w*r;a[5]=x*e+y*l+v*p+w*s;a[6]=x*f+y*k+v*q+w*t;a[7]=x*g+y*n+v*u+w*b;x=c[8];y=c[9];v=c[10];w=c[11];a[8]=x*d+y*h+v*m+w*r;a[9]=x*e+y*l+v*p+w*s;a[10]=x*f+y*k+v*q+w*t;a[11]=x*g+y*n+v*u+w*b;x=c[12];y=c[13];v=c[14];w=c[15];a[12]=x*d+y*h+v*m+w*r;a[13]=x*e+y*l+v*p+w*s;a[14]=x*f+y*k+v*q+w*t;a[15]=
x*g+y*n+v*u+w*b;return a}};mat4.mul=mat4.multiply;
mat4.translate=function(a,b,c){var d=c[0],e=c[1];c=c[2];var f,g,h,l,k,n,m,p,q,u,r,s;b===a?(a[12]=b[0]*d+b[4]*e+b[8]*c+b[12],a[13]=b[1]*d+b[5]*e+b[9]*c+b[13],a[14]=b[2]*d+b[6]*e+b[10]*c+b[14],a[15]=b[3]*d+b[7]*e+b[11]*c+b[15]):(f=b[0],g=b[1],h=b[2],l=b[3],k=b[4],n=b[5],m=b[6],p=b[7],q=b[8],u=b[9],r=b[10],s=b[11],a[0]=f,a[1]=g,a[2]=h,a[3]=l,a[4]=k,a[5]=n,a[6]=m,a[7]=p,a[8]=q,a[9]=u,a[10]=r,a[11]=s,a[12]=f*d+k*e+q*c+b[12],a[13]=g*d+n*e+u*c+b[13],a[14]=h*d+m*e+r*c+b[14],a[15]=l*d+p*e+s*c+b[15]);return a};
mat4.scale=function(a,b,c){var d=c[0],e=c[1];c=c[2];a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*e;a[5]=b[5]*e;a[6]=b[6]*e;a[7]=b[7]*e;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};
mat4.rotate=function(a,b,c,d){var e=d[0],f=d[1];d=d[2];var g=Math.sqrt(e*e+f*f+d*d),h,l,k,n,m,p,q,u,r,s,t,x,y,v,w,A,B,C,D,E;if(Math.abs(g)<GLMAT_EPSILON)return null;g=1/g;e*=g;f*=g;d*=g;h=Math.sin(c);l=Math.cos(c);k=1-l;c=b[0];g=b[1];n=b[2];m=b[3];p=b[4];q=b[5];u=b[6];r=b[7];s=b[8];t=b[9];x=b[10];y=b[11];v=e*e*k+l;w=f*e*k+d*h;A=d*e*k-f*h;B=e*f*k-d*h;C=f*f*k+l;D=d*f*k+e*h;E=e*d*k+f*h;e=f*d*k-e*h;f=d*d*k+l;a[0]=c*v+p*w+s*A;a[1]=g*v+q*w+t*A;a[2]=n*v+u*w+x*A;a[3]=m*v+r*w+y*A;a[4]=c*B+p*C+s*D;a[5]=g*B+
q*C+t*D;a[6]=n*B+u*C+x*D;a[7]=m*B+r*C+y*D;a[8]=c*E+p*e+s*f;a[9]=g*E+q*e+t*f;a[10]=n*E+u*e+x*f;a[11]=m*E+r*e+y*f;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a};
mat4.rotateX=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[4],f=b[5],g=b[6],h=b[7],l=b[8],k=b[9],n=b[10],m=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=e*c+l*d;a[5]=f*c+k*d;a[6]=g*c+n*d;a[7]=h*c+m*d;a[8]=l*c-e*d;a[9]=k*c-f*d;a[10]=n*c-g*d;a[11]=m*c-h*d;return a};
mat4.rotateY=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],f=b[1],g=b[2],h=b[3],l=b[8],k=b[9],n=b[10],m=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c-l*d;a[1]=f*c-k*d;a[2]=g*c-n*d;a[3]=h*c-m*d;a[8]=e*d+l*c;a[9]=f*d+k*c;a[10]=g*d+n*c;a[11]=h*d+m*c;return a};
mat4.rotateZ=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],f=b[1],g=b[2],h=b[3],l=b[4],k=b[5],n=b[6],m=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c+l*d;a[1]=f*c+k*d;a[2]=g*c+n*d;a[3]=h*c+m*d;a[4]=l*c-e*d;a[5]=k*c-f*d;a[6]=n*c-g*d;a[7]=m*c-h*d;return a};
mat4.fromRotationTranslation=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=d+d,l=e+e,k=f+f;b=d*h;var n=d*l,d=d*k,m=e*l,e=e*k,f=f*k,h=g*h,l=g*l,g=g*k;a[0]=1-(m+f);a[1]=n+g;a[2]=d-l;a[3]=0;a[4]=n-g;a[5]=1-(b+f);a[6]=e+h;a[7]=0;a[8]=d+l;a[9]=e-h;a[10]=1-(b+m);a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a};
mat4.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,l=e+e,c=c*g,k=d*g,d=d*h,n=e*g,m=e*h,e=e*l,g=f*g,h=f*h,f=f*l;a[0]=1-d-e;a[1]=k+f;a[2]=n-h;a[3]=0;a[4]=k-f;a[5]=1-c-e;a[6]=m+g;a[7]=0;a[8]=n+h;a[9]=m-g;a[10]=1-c-d;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};
mat4.frustum=function(a,b,c,d,e,f,g){var h=1/(c-b),l=1/(e-d),k=1/(f-g);a[0]=2*f*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*f*l;a[6]=0;a[7]=0;a[8]=(c+b)*h;a[9]=(e+d)*l;a[10]=(g+f)*k;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*(g*f)*k;a[15]=0;return a};mat4.perspective=function(a,b,c,d,e){b=1/Math.tan(b/2);var f=1/(d-e);a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(e+d)*f;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*e*d*f;a[15]=0;return a};
mat4.ortho=function(a,b,c,d,e,f,g){var h=1/(b-c),l=1/(d-e),k=1/(f-g);a[0]=-2*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*l;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*k;a[11]=0;a[12]=(b+c)*h;a[13]=(e+d)*l;a[14]=(g+f)*k;a[15]=1;return a};
mat4.lookAt=function(a,b,c,d){var e,f,g,h,l,k,n,m,p=b[0],q=b[1];b=b[2];g=d[0];h=d[1];f=d[2];n=c[0];d=c[1];e=c[2];if(Math.abs(p-n)<GLMAT_EPSILON&&Math.abs(q-d)<GLMAT_EPSILON&&Math.abs(b-e)<GLMAT_EPSILON)return mat4.identity(a);c=p-n;d=q-d;n=b-e;m=1/Math.sqrt(c*c+d*d+n*n);c*=m;d*=m;n*=m;e=h*n-f*d;f=f*c-g*n;g=g*d-h*c;(m=Math.sqrt(e*e+f*f+g*g))?(m=1/m,e*=m,f*=m,g*=m):g=f=e=0;h=d*g-n*f;l=n*e-c*g;k=c*f-d*e;(m=Math.sqrt(h*h+l*l+k*k))?(m=1/m,h*=m,l*=m,k*=m):k=l=h=0;a[0]=e;a[1]=h;a[2]=c;a[3]=0;a[4]=f;a[5]=
l;a[6]=d;a[7]=0;a[8]=g;a[9]=k;a[10]=n;a[11]=0;a[12]=-(e*p+f*q+g*b);a[13]=-(h*p+l*q+k*b);a[14]=-(c*p+d*q+n*b);a[15]=1;return a};mat4.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"};
mat4.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};"undefined"!==typeof exports&&(exports.mat4=mat4);
